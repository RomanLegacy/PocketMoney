{
    "contents" : "#analysis.r\n\nsource('config.R')\n\n# Read in data, run a classifier for a given cross and column set\n# ---\nmy_params <- list(\"Cross\" = \"NOKSEK\",\n                  \"XData_To_Use\" = c(\"Returns\", \"PC1\", \"PC2\", \"Copper\", \"Gold\"),\n                  \"Training_Size\" = 0.5,\n                  \"XDataset\" = \"S:/Roman/Data/misc_model_data_for_classifying2.csv\")\nmy_data <- Get_XData(my_params$XDataset)\nmy_data_subset <- Get_SubsetData_ForClassification(my_data, my_params)\nTest_Classifier(my_data_subset, my_params, inp_classifier_type = \"lda\")\n# ---\n\n\n# Read in data, run a classifier for a given selection of crosses and record classifier performance per each one\n# ---\nmy_params <- list(\"Cross\" = NA,\n                  \"XData_To_Use\" = c(\"Returns\", \"PC1\", \"PC2\"),\n                  \"Training_Size\" = 0.5,\n                  \"XDataset\" = \"S:/Roman/Data/misc_model_data_for_classifying2.csv\",\n                  \"Classifier\" = list(\"Type\" = \"lda\")\n)\nall_crosses <- config$Crosses\noutp_accuracies <- numeric(length(all_crosses))\nmy_data <- Get_XData(my_params$XDataset)\nfor (i in seq_along(all_crosses)) {\n  my_params$Cross <- all_crosses[i]\n  my_data_subset <- Get_SubsetData_ForClassification(my_data, my_params)\n  outp_accuracies[i] <- Test_Classifier(my_data_subset, my_params, inp_classifier_type = my_params$Classifier$Type, inp_print_results = FALSE)\n}\nnames(outp_accuracies) <- all_crosses\nmy_res <- list(\"XData\" = my_params$XData_To_Use,\n               \"Classifier_Info\" = my_params$Classifier,\n               \"Classifier_Accuracy\" = outp_accuracies,\n               \"Training_Size\" = my_params$Training_Size)\nmy_res\n# ---\n\n\n\n# Run classifiers in more of a backtest setting, where we predict each day and aggregate targets and then monitor implied forward performance\n# Note that we fit classifier once at start but, in practice, this can be re-fit at intervals...\n# ---\nmy_params <- list(\"Model_XDataFile\" = \"Data/SmallTestFile.csv\",\n                  \"XData_To_Use\" = c(\"Returns\", \"PC1\", \"PC2\"),\n                  \"Fit_Window\" = 250,\n                  \"Rolling_Window_Performance\" = 10,\n                  \"Prediction_Adjust_Factor\" = 0.5,\n                  \"AdjustPredictedPositions\" = TRUE,\n                  \"Classifier_Type\" = \"lda\")\nbacktest_results <- Backtest_ClassifierAlgo(my_params)\n\n# Plot the cumulative returns for each of the currencies and the aggregate portfolio\nbacktest_results$CurrencyTarget_Returns[is.na(backtest_results$CurrencyTarget_Returns)] <- 0\nfor (i in 1:ncol(backtest_results$CurrencyTarget_Returns)) {\n  plot(cumsum(backtest_results$CurrencyTarget_Returns[[i]]), type=\"l\", main=colnames(backtest_results$CurrencyTarget_Returns)[i])\n}\n# ---",
    "created" : 1415200479472.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "772440695",
    "id" : "B55BA577",
    "lastKnownWriteTime" : 1415289071,
    "path" : "~/GitHub/PocketMoney/Algo_Classifiers/analysis.R",
    "project_path" : "analysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}